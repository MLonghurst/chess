<script type='module'>

export class Rank extends Number {
  constructor(number) {
    super(number);
    this.#validate();
    console.log(this);
  }

  #validate() {
    if(this.#isValid()) console.log('is valid');
    else console.log('is not valid');
  }

  #isValid() {
    console.log(Number.isInteger(this));
    console.log(this >= 1);
    console.log(this <= 8);
    return Number.isInteger(this) && this >= 1 && this <= 8;
  }
}

let rank = new Rank(7);
console.log(Number.isInteger(rank));


import { SquaresManager } from './squares-manager.js';
import { PenetrationSquares } from './penetration-squares.js';

const files = [1, 2, 3, 4, 5, 6, 7, 8];
const ranks = [1, 2, 3, 4, 5, 6, 7, 8];
const squares = ranks.map(rank => files.map(file => ({ rank, file, isEmpty: true }))).flat();
const squareToChange = squares.find(square => square.rank === 5 && square.file === 5); 
squareToChange.isEmpty = false;
squareToChange.hasWhitePiece = true;

const originSquare = { rank: 2, file: 2 };
const direction = { rank: 1, file: 1 };
const range = { minimum: 1, maximum: 5 };
const penetration = { continueSquareProperties: ['isEmpty', 'hasBlackPiece'], endSquareProperties: ['hasBlackPiece', 'hasWhitePiece'] };

const squaresInDirectionOfOriginSquare = SquaresManager.getSquaresInDirectionOfOriginSquare(squares, originSquare, direction);
console.log(squaresInDirectionOfOriginSquare);
const squaresInDirectionOfOriginSquareAndInRange = SquaresManager.getSquaresInRange(squaresInDirectionOfOriginSquare, range);
console.log(squaresInDirectionOfOriginSquareAndInRange);

const penetrationSquares = new PenetrationSquares({ squares, originSquare, direction, range, penetration });

// SquaresManager.getPenetrationSquares(squaresInDirectionOfOriginSquareAndInRange, penetration);
console.log(penetrationSquares);
console.log(penetrationSquares[0])
</script>